# SAGE Applications åº”ç”¨ç»„ä»¶

SAGE Applications æ˜¯åŸºäº SAGE Kernel å’Œ Middleware æ„å»ºçš„é«˜çº§åº”ç”¨ç»„ä»¶åº“ï¼Œæä¾›äº†ä¸€ç³»åˆ—å¼€ç®±å³ç”¨çš„AIå’Œæ•°æ®å¤„ç†åº”ç”¨æ¨¡å—ã€‚è¿™äº›ç»„ä»¶å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç»„åˆæ„å»ºå¤æ‚çš„æ™ºèƒ½åº”ç”¨ã€‚

## ğŸ—ï¸ æ¶æ„å®šä½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Applications  â”‚  â† é«˜çº§åº”ç”¨ç»„ä»¶ (å½“å‰æ–‡æ¡£)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Middleware    â”‚  â† ä¸­é—´ä»¶æœåŠ¡å±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚   SAGE Kernel   â”‚  â† æ ¸å¿ƒæµå¤„ç†å¼•æ“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Applications å±‚æ˜¯é¢å‘æœ€ç»ˆç”¨æˆ·çš„é«˜çº§æŠ½è±¡ï¼Œå°†å¤æ‚çš„AIä»»åŠ¡å°è£…ä¸ºç®€å•æ˜“ç”¨çš„ç»„ä»¶ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿæ„å»ºç”Ÿäº§çº§çš„æ™ºèƒ½åº”ç”¨ã€‚

## ğŸ§© æ ¸å¿ƒç»„ä»¶

### RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ)
æ„å»ºå¼ºå¤§çš„é—®ç­”å’Œå†…å®¹ç”Ÿæˆç³»ç»Ÿï¼š

- [RAG åº”ç”¨](rag.md) - æ£€ç´¢å¢å¼ºç”Ÿæˆçš„å®Œæ•´è§£å†³æ–¹æ¡ˆ
- æ”¯æŒå¤šç§æ£€ç´¢ç­–ç•¥ï¼ˆç¨€ç–ã€å¯†é›†ã€æ··åˆï¼‰
- å†…ç½®é‡æ’åºå’Œç»“æœä¼˜åŒ–
- æ”¯æŒå¤šç§LLMåç«¯

### Agents (æ™ºèƒ½ä»£ç†)
è‡ªä¸»å†³ç­–å’Œä»»åŠ¡æ‰§è¡Œçš„æ™ºèƒ½ä½“ï¼š

- [æ™ºèƒ½ä»£ç†](agents.md) - è‡ªä¸»è§„åˆ’å’Œæ‰§è¡Œçš„AIä»£ç†
- æ”¯æŒå·¥å…·è°ƒç”¨å’Œç¯å¢ƒäº¤äº’
- å¤šä»£ç†åä½œæ¡†æ¶
- å¯æ’æ‹”çš„æ¨ç†å¼•æ“

### Tools (å·¥å…·é›†)
å³æ’å³ç”¨çš„åŠŸèƒ½ç»„ä»¶ï¼š

- [å·¥å…·æ¦‚è§ˆ](tools_intro.md) - å·¥å…·ç”Ÿæ€ç³»ç»Ÿä»‹ç»
- [Arxiv Paper Searcher](tools/arxiv_paper_searcher.md) - å­¦æœ¯è®ºæ–‡æœç´¢
- [Image Captioner](tools/image_captioner.md) - å›¾åƒæè¿°ç”Ÿæˆ
- [Nature News Fetcher](tools/nature_news_fetcher.md) - ç§‘å­¦æ–°é—»è·å–
- [Searcher Tool](tools/searcher_tool.md) - é€šç”¨æœç´¢å·¥å…·
- [Text Detector](tools/text_detector.md) - æ–‡æœ¬æ£€æµ‹åˆ†æ
- [URL Text Extractor](tools/url_text_extractor.md) - ç½‘é¡µæ–‡æœ¬æå–

### IO ç»„ä»¶
æ•°æ®è¾“å…¥è¾“å‡ºçš„æ ‡å‡†åŒ–æ¥å£ï¼š

- [IO æ¨¡å—](io.md) - ç»Ÿä¸€çš„æ•°æ®è¾“å…¥è¾“å‡ºæ¥å£
- æ”¯æŒå¤šç§æ•°æ®æºï¼ˆæ–‡ä»¶ã€æ•°æ®åº“ã€APIï¼‰
- æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼è½¬æ¢
- æµå¼å’Œæ‰¹é‡å¤„ç†æ¨¡å¼

### Context ç®¡ç†
ä¸Šä¸‹æ–‡å’ŒçŠ¶æ€ç®¡ç†ï¼š

- [Context ç®¡ç†](context.md) - åº”ç”¨ä¸Šä¸‹æ–‡å’ŒçŠ¶æ€ç®¡ç†
- è·¨ç»„ä»¶çš„çŠ¶æ€å…±äº«
- ä¼šè¯å’Œç”¨æˆ·ä¸Šä¸‹æ–‡
- åˆ†å¸ƒå¼çŠ¶æ€åŒæ­¥

### Embedding æœåŠ¡
å‘é‡åŒ–å’Œç›¸ä¼¼æ€§è®¡ç®—ï¼š

- [Embedding æœåŠ¡](embedding.md) - æ–‡æœ¬å’Œå¤šæ¨¡æ€å‘é‡åŒ–
- æ”¯æŒå¤šç§é¢„è®­ç»ƒæ¨¡å‹
- æ‰¹é‡å‘é‡åŒ–å¤„ç†
- ç›¸ä¼¼æ€§æœç´¢ä¼˜åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### RAG åº”ç”¨ç¤ºä¾‹

```python
from sage.applications.rag import RAGPipeline
from sage.applications.io import FileSource

# åˆ›å»ºRAGç®¡é“
rag = RAGPipeline(
    model_name="gpt-3.5-turbo",
    retriever_type="hybrid"  # æ··åˆæ£€ç´¢
)

# æ·»åŠ çŸ¥è¯†åº“
docs = FileSource("knowledge_base/").load()
rag.add_documents(docs)

# æŸ¥è¯¢
answer = rag.query("SAGEæ¡†æ¶çš„ä¸»è¦ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Ÿ")
print(answer)
```

### Agent åº”ç”¨ç¤ºä¾‹

```python
from sage.applications.agents import Agent
from sage.applications.tools import ArxivSearcher, ImageCaptioner

# åˆ›å»ºæ™ºèƒ½ä»£ç†
agent = Agent(
    name="ç ”ç©¶åŠ©æ‰‹",
    description="å¸®åŠ©ç”¨æˆ·è¿›è¡Œå­¦æœ¯ç ”ç©¶",
    tools=[ArxivSearcher(), ImageCaptioner()]
)

# æ‰§è¡Œä»»åŠ¡
result = agent.execute("å¸®æˆ‘æœç´¢å…³äºæ·±åº¦å­¦ä¹ çš„æœ€æ–°è®ºæ–‡ï¼Œå¹¶ç”Ÿæˆæ‘˜è¦")
print(result)
```

### å·¥å…·ç»„åˆç¤ºä¾‹

```python
from sage.applications.tools import URLTextExtractor, TextDetector
from sage.core.api import LocalEnvironment

# åˆ›å»ºå¤„ç†ç®¡é“
env = LocalEnvironment("text_analysis")

# å·¥å…·ç»„åˆå¤„ç†
extractor = URLTextExtractor()
detector = TextDetector()

def analyze_webpage(url):
    # æå–ç½‘é¡µæ–‡æœ¬
    text = extractor.extract(url)
    
    # æ£€æµ‹æ–‡æœ¬ç‰¹å¾
    analysis = detector.analyze(text)
    
    return {
        "url": url,
        "text_length": len(text),
        "language": analysis["language"],
        "sentiment": analysis["sentiment"],
        "topics": analysis["topics"]
    }

# æ‰¹é‡å¤„ç†URL
urls = ["https://example1.com", "https://example2.com"]
results = [analyze_webpage(url) for url in urls]
```

## ğŸ”§ è‡ªå®šä¹‰ç»„ä»¶

### åˆ›å»ºè‡ªå®šä¹‰RAGç»„ä»¶

```python
from sage.applications.rag import BaseRetriever, BaseGenerator

class CustomRetriever(BaseRetriever):
    def retrieve(self, query, top_k=10):
        # å®ç°è‡ªå®šä¹‰æ£€ç´¢é€»è¾‘
        pass

class CustomGenerator(BaseGenerator):
    def generate(self, context, query):
        # å®ç°è‡ªå®šä¹‰ç”Ÿæˆé€»è¾‘
        pass

# ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶
rag = RAGPipeline(
    retriever=CustomRetriever(),
    generator=CustomGenerator()
)
```

### åˆ›å»ºè‡ªå®šä¹‰å·¥å…·

```python
from sage.applications.tools import BaseTool

class WeatherTool(BaseTool):
    name = "weather_checker"
    description = "è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯"
    
    def execute(self, city: str) -> dict:
        # å®ç°å¤©æ°”æŸ¥è¯¢é€»è¾‘
        return {
            "city": city,
            "temperature": "25Â°C",
            "description": "æ™´å¤©"
        }

# æ³¨å†Œå’Œä½¿ç”¨å·¥å…·
agent.add_tool(WeatherTool())
result = agent.execute("æŸ¥è¯¢åŒ—äº¬çš„å¤©æ°”")
```

### åˆ›å»ºè‡ªå®šä¹‰Agent

```python
from sage.applications.agents import BaseAgent

class ResearchAgent(BaseAgent):
    def __init__(self):
        super().__init__(
            name="Research Assistant",
            system_prompt="ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å­¦æœ¯ç ”ç©¶åŠ©æ‰‹..."
        )
    
    def plan_task(self, task):
        # ä»»åŠ¡è§„åˆ’é€»è¾‘
        pass
    
    def execute_step(self, step):
        # æ­¥éª¤æ‰§è¡Œé€»è¾‘
        pass
```

## ğŸ”— ç»„ä»¶é›†æˆ

### å¤šç»„ä»¶åä½œ

```python
from sage.applications import RAGPipeline, Agent
from sage.applications.tools import ArxivSearcher

# åˆ›å»ºRAGç³»ç»Ÿ
rag = RAGPipeline(model_name="gpt-4")

# åˆ›å»ºæ™ºèƒ½ä»£ç†ï¼Œé›†æˆRAG
agent = Agent(
    name="çŸ¥è¯†åŠ©æ‰‹",
    tools=[ArxivSearcher()],
    knowledge_base=rag
)

# å¤æ‚æŸ¥è¯¢å¤„ç†
result = agent.execute("""
è¯·å¸®æˆ‘ï¼š
1. æœç´¢å…³äºTransformeræ¶æ„çš„æœ€æ–°è®ºæ–‡
2. æ€»ç»“å…¶ä¸­çš„å…³é”®åˆ›æ–°ç‚¹
3. ä¸æˆ‘çš„çŸ¥è¯†åº“ä¸­çš„ç›¸å…³å†…å®¹è¿›è¡Œå¯¹æ¯”
""")
```

### æµæ°´çº¿å¤„ç†

```python
from sage.core.api import LocalEnvironment
from sage.applications.io import FileSource, FileSink

env = LocalEnvironment("document_processing")

# æ„å»ºæ–‡æ¡£å¤„ç†æµæ°´çº¿
source = FileSource("documents/")
rag = RAGPipeline()
sink = FileSink("processed/")

def process_document(doc):
    # ä½¿ç”¨RAGå¤„ç†æ–‡æ¡£
    summary = rag.summarize(doc.content)
    return {
        "filename": doc.name,
        "summary": summary,
        "timestamp": doc.timestamp
    }

# æµå¼å¤„ç†
pipeline = (env
    .from_source(source)
    .map(process_document)
    .sink(sink))

pipeline.execute()
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### æ‰¹é‡å¤„ç†

```python
from sage.applications.embedding import EmbeddingService

embedding = EmbeddingService(batch_size=32)

# æ‰¹é‡å‘é‡åŒ–
texts = ["æ–‡æœ¬1", "æ–‡æœ¬2", "æ–‡æœ¬3", ...]
vectors = embedding.encode_batch(texts)
```

### ç¼“å­˜ä¼˜åŒ–

```python
from sage.applications.cache import ComponentCache

# å¯ç”¨ç»„ä»¶ç¼“å­˜
cache = ComponentCache(redis_url="redis://localhost:6379")

rag = RAGPipeline(cache=cache)
agent = Agent(cache=cache)

# è‡ªåŠ¨ç¼“å­˜æŸ¥è¯¢ç»“æœ
answer1 = rag.query("é—®é¢˜1")  # é¦–æ¬¡æŸ¥è¯¢ï¼Œè®¡ç®—ç»“æœ
answer2 = rag.query("é—®é¢˜1")  # ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼Œè¿”å›ç¼“å­˜ç»“æœ
```

### å¹¶è¡Œå¤„ç†

```python
import asyncio
from sage.applications.async_support import AsyncRAG

# å¼‚æ­¥å¤„ç†
async def process_queries():
    rag = AsyncRAG()
    
    queries = ["é—®é¢˜1", "é—®é¢˜2", "é—®é¢˜3"]
    tasks = [rag.query_async(q) for q in queries]
    
    results = await asyncio.gather(*tasks)
    return results
```

## ğŸ”’ å®‰å…¨å’Œéšç§

### æ•°æ®è„±æ•

```python
from sage.applications.privacy import DataSanitizer

sanitizer = DataSanitizer()

# è‡ªåŠ¨è„±æ•å¤„ç†
safe_text = sanitizer.sanitize(user_input)
answer = rag.query(safe_text)
```

### è®¿é—®æ§åˆ¶

```python
from sage.applications.auth import ComponentAuth

auth = ComponentAuth()

# åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
@auth.require_role("admin")
def admin_query(query):
    return rag.query(query)

@auth.require_permission("read:documents")  
def read_documents():
    return document_store.list()
```

---

SAGE Applications æä¾›äº†æ„å»ºæ™ºèƒ½åº”ç”¨çš„å®Œæ•´ç»„ä»¶ç”Ÿæ€ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿå®ç°ä»ç®€å•çš„æ–‡æœ¬å¤„ç†åˆ°å¤æ‚çš„å¤šæ¨¡æ€AIåº”ç”¨ã€‚é€šè¿‡æ ‡å‡†åŒ–çš„æ¥å£å’Œä¸°å¯Œçš„æ‰©å±•èƒ½åŠ›ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚çµæ´»ç»„åˆå’Œå®šåˆ¶åº”ç”¨ç»„ä»¶ã€‚
